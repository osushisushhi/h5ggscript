<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>osushisushhi</title>
  <style>
    * { box-sizing: border-box; }
    body{
      margin:0; padding:0;
      background: radial-gradient(ellipse at center, #000010, #000000);
      font-family:'Orbitron','Arial',sans-serif; color:#fff;
      overflow-y:auto; /* 画面全体スクロール可 */
    }

    .container{
      border:2px solid #00f0ff;
      width: min(420px, 92vw);
      margin: 20px auto;
      padding: 14px;
      border-radius:12px;
      background: linear-gradient(180deg, rgba(0,255,255,.05), rgba(255,0,255,.05));
      box-shadow:0 0 25px rgba(0,255,255,.35), 0 0 40px rgba(255,0,255,.2);
      backdrop-filter: blur(4px);
      max-height: calc(100vh - 40px);   /* 画面には収める */
      overflow-y: auto;                  /* 中身が長い時は内部スクロール */
    }

    .title{
      text-align:center; color:#00f0ff; font-weight:700;
      font-size:16px; margin:4px 0 10px;
      text-shadow:0 0 6px #00f0ff, 0 0 10px #ff00ff;
    }

    /* --- タブ（1行） --- */
    .tabs{
      display:flex; gap:8px; margin-bottom:12px;
    }
    .tab{
      flex:1 1 0; text-align:center; padding:10px 8px; cursor:pointer;
      border:2px solid #00f0ff; border-radius:8px;
      background:rgba(0,0,0,.3); color:#fff; font-weight:700;
      box-shadow:0 0 8px rgba(0,255,255,.3);
      text-shadow:0 0 6px #00f0ff, 0 0 4px #fff;
      transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
      user-select:none;
    }
    .tab:hover{ transform: translateY(-1px); }
    .tab.active{ background:rgba(0,255,255,.2); box-shadow:0 0 15px #00f0ff; }

    /* --- コンテンツ --- */
    .tab-content{ display:none; }
    .tab-content.active{ display:block; }

    .btn{
      width:100%; padding:14px; margin:10px 0;
      background: rgba(255,0,255,.15);
      color:#fff; border:2px solid #ff00ff; border-radius:10px;
      font-size:18px; text-align:center; cursor:pointer;
      text-shadow:0 0 6px #ff00ff, 0 0 10px #fff;
      box-shadow:0 0 15px #ff00ff, 0 0 8px rgba(255,0,255,.3);
      transition: transform .15s ease, box-shadow .15s ease;
    }
    .btn:hover{ transform:scale(1.03); box-shadow:0 0 18px #ff00ff, 0 0 20px #00f0ff; }
  </style>
</head>
<body>
  <div class="container">
    <div class="title">Script by osushisushhi</div>

    <!-- タブ（1行：ガレージ / ルーム / その他） -->
<div class="tabs">
  <div class="tab active" onclick="switchTab(1)">ガレージ</div>
  <div class="tab" onclick="switchTab(2)">ルーム</div>
  <div class="tab" onclick="switchTab(3)">その他</div>
</div>

<!-- ガレージ -->
<div class="tab-content active" id="tab1">
  <div class="btn" onclick="injectCrownProtocol()">クラウンアンロック</div>
  <div class="btn" onclick="oniCamber()">鬼キャン</div>
  <div class="btn" onclick="customHorsepower()">カスタム馬力</div>
  <div class="btn" onclick="rocketPower()">ロケット</div>
  <div class="btn" onclick="carBodyChrome()">車体メッキ</div>
  <div class="btn" onclick="wheelChrome()">ホイールメッキ</div>
  <div class="btn" onclick="implantParts()">移植パーツ</div>
  <div class="btn" onclick="implantWing()">移植ウィング</div>
  <div class="btn" onclick="longname()">ロングネーム</div>
</div>

<!-- ルーム -->
<div class="tab-content" id="tab2">
  <div class="btn" onclick="air()">浮遊(相手視点のみ)</div>
  <div class="btn" onclick="buy()">売り場0円購入</div>
  <div class="btn" onclick="wallHack()">壁貫通</div>
  <div class="btn" onclick="roomlocet()">即席ロケット</div>
  <div class="btn" onclick="getdown()">ゲッダン</div>
</div>

<!-- その他 -->
<div class="tab-content" id="tab3">
  <div class="btn" onclick="showVersionHistory()">バージョン履歴</div>
  <div class="btn" onclick="showCredit()">クレジット</div>
</div>

  <script>
    /* タブ切替 */
    function switchTab(n){
      const tabs = document.querySelectorAll('.tab');
      const contents = document.querySelectorAll('.tab-content');
      tabs.forEach((t,i)=> t.classList.toggle('active', i===n-1));
      contents.forEach((c,i)=> c.classList.toggle('active', i===n-1));
    }

    /* ===== 機能群 ===== */
function air(){
    h5gg.searchNumber("180", "F32", "0x0", "0x200000000");
h5gg.editAll("10", "F32", "0x0", "0x200000000");
h5gg.clearResults();
}

    function roomlocket() {
      h5gg.searchNumber("0.4", "F32", "0x0", "0x200000000");
h5gg.editAll("-999", "F32", "0x0", "0x200000000");
h5gg.clearResults();
    }

    function getdown() {
      h5gg.searchNumber("300", "F32", "0x0", "0x200000000");
h5gg.editAll("5000", "F32", "0x0", "0x200000000");
h5gg.clearResults();
    }

    // クレジット
    function showCredit(){
      const creditHTML = `
        <div id="credit-popup" style="
          position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
          background:rgba(0,0,0,.4); z-index:9999;">
          <div style="
            max-width:320px; width:86vw; background:rgba(0,0,0,.9); color:#fff;
            border-radius:12px; padding:20px; text-align:center;
            box-shadow:0 0 20px #ff00ff;">
            <div style="font-size:20px; margin-bottom:12px; text-shadow:0 0 6px #0ff;">
              スクリプト製作者: お寿司スシィ
            </div>
            <div style="font-size:16px; margin-bottom:6px;">ー 協力者 ー</div>
            <div style="font-size:15px; line-height:1.6;">
              ・kiyu4776<br>・チーパー<br>・ぽちさん
            </div>
            <div style="margin-top:14px;">
              <button onclick="jumpToTiktok()" style="
                padding:10px 26px; font-size:16px; border:none; border-radius:8px;
                background:linear-gradient(45deg,#ff00ff,#00ffff); color:#fff;
                text-shadow:0 0 6px #fff; box-shadow:0 0 10px #0ff; cursor:pointer;">
                OK
              </button>
            </div>
          </div>
        </div>`;
      const wrap = document.createElement('div');
      wrap.innerHTML = creditHTML;
      document.body.appendChild(wrap);
    }
    function jumpToTiktok(){
      const p = document.getElementById('credit-popup');
      if (p) p.remove();
      location.href = 'https://www.tiktok.com/@osushisushhi';
    }

    // バージョン履歴
    function showVersionHistory(){
      alert(
        "📘 バージョン履歴\n\n"+
        "24/6/28 - 作成開始\n"+
        "24/6/29 - UIとメニューの見直し\n"+
        "24/6/30 - メッキ類対応、UI改善\n"+
        "24/7/1  - 数値の最適化\n"+
        "24/7/2  - 細かい要素の見直し\n"+
        "24/7/3  - 移植系の処理追加\n"+
        "24/8/14 - UIの大幅変更\n"+
        "24/8/25 - スクロールでタブを少なく変更\n"+
        "24/8/27 - 複数メニューを追加\n\n"+
        "by osushisushhi"
      );
    }

    // ロングネーム
    function longname(){
      h5gg.clearResults();
      h5gg.searchNumber("4543443241174818784","I32","0x0","0x200000000");
      h5gg.searchNearby('12','I32','0x100');
      h5gg.searchNumber("12","I32","0x0","0x200000000");
      h5gg.editAll('-1','I32');
      h5gg.clearResults();
      alert('完了');
    }

    // クラウンアンロック
    function injectCrownProtocol(){
      h5gg.clearResults();
      h5gg.searchNumber('-4294967078','I64','0x000000000','0x200000000');
      h5gg.editAll('-4294967079','I64');
      alert('完了！');
    }

    // 鬼キャン
    function oniCamber(){
      alert("キャンバーをMAXにしてください");
      h5gg.clearResults();
      h5gg.searchNumber("-10","F32","0x0","0x200000000");
      alert("リセットしてください");
      h5gg.searchNumber("0","F32","0x0","0x200000000");
      const v = prompt("キャンバー角を入力してください（-を最初につけてください）：","-8");
      if (v!==null){
        h5gg.editAll(v,"F32");
        h5gg.clearResults();
        alert("鬼キャン完了！");
      }
    }

    // カスタム馬力/トルク
    function customHorsepower(){
      const s1 = prompt("現在の馬力を入力してください：","150"); if (s1===null) return;
      const e1 = prompt("何馬力にしますか？","300"); if (e1===null) return;
      h5gg.clearResults();
      h5gg.searchNumber(s1,"F32","0x0","0x200000000");
      h5gg.editAll(e1,"F32");
      h5gg.clearResults();

      const s2 = prompt("現在のトルクを入力してください：","75"); if (s2===null) return;
      const e2 = prompt("何トルクにしますか？","200"); if (e2===null) return;
      h5gg.searchNumber(s2,"F32","0x0","0x200000000");
      h5gg.editAll(e2,"F32");
      h5gg.clearResults();
      alert("タイヤを取り付けてください");
    }

    // ロケット
    function rocketPower(){
      const s1 = prompt("現在の馬力を入力してください：","150"); if (s1===null) return;
      h5gg.clearResults();
      h5gg.searchNumber(s1,"F32","0x0","0x200000000");
      h5gg.editAll("1000.999","F32");
      h5gg.clearResults();

      const s2 = prompt("現在のトルクを入力してください：","75"); if (s2===null) return;
      h5gg.searchNumber(s2,"F32","0x0","0x200000000");
      h5gg.editAll("999.999","F32");
      h5gg.clearResults();
      alert("タイヤを取り付けてください");
    }

    // 車体メッキ
    function carBodyChrome(){
      h5gg.clearResults();
      h5gg.searchNumber("4575657222559105024","I32","0x0","0x200000000");
      const count = h5gg.getResultsCount();
      const results = h5gg.getResults(count.toString(),"0");
      const Value = "5555.0";
      for (let i=0;i<results.length;i++){
        const address = Number(results[i].address);
        const base = address + 0xFC;
        for (let offset=-8; offset<=8; offset+=4){
          let ok = true;
          for (let j=0;j<4;j++){
            const tmp = base+offset+4*j;
            const val = Number(h5gg.getValue(tmp.toString(),"F32"));
            if (isNaN(val) || (val!==0 && (val<1e-10 || val>30))){ ok=false; break; }
          }
          if (ok){
            for (let j=0;j<4;j++){
              const addr = base+offset+4*j;
              h5gg.setValue(addr.toString(),Value,"F32");
            }
            break;
          }
        }
      }
      h5gg.clearResults();
      alert("車体メッキ完了！");
    }

    // ホイールメッキ
    function wheelChrome(){
      h5gg.clearResults();
      h5gg.searchNumber("50465865729","I32","0x0","0x200000000");
      const count = h5gg.getResultsCount();
      const results = h5gg.getResults(count.toString(),"0");
      const Value = "5559";
      for (let i=0;i<results.length;i++){
        const address = Number(results[i].address);
        const base = address - 0xA4;
        for (let offset=-8; offset<=8; offset+=4){
          let ok = true;
          for (let j=0;j<4;j++){
            const tmp = base+offset+4*j;
            const val = Number(h5gg.getValue(tmp.toString(),"F32"));
            if (isNaN(val) || (val!==0 && (val<1e-10 || val>30))){ ok=false; break; }
          }
          if (ok){
            for (let j=0;j<4;j++){
              const addr = base+offset+4*j;
              h5gg.setValue(addr.toString(),Value,"F32");
            }
            break;
          }
        }
      }
      h5gg.clearResults();
      alert("ホイールメッキ完了！");
    }

    // 移植ウィング
    function implantWing(){
      let v = prompt("ウィングの数値を入力：","123456");
      if (v===null || isNaN(v)){ alert("キャンセルされました、または無効な数値です！"); return; }
      v = parseInt(v);
      h5gg.clearResults();
      h5gg.searchNumber("4575657222496845824","I64","0x0","0x200000000");
      const results = h5gg.getResults(h5gg.getResultsCount());
      for (let i=0;i<results.length;i++){
        const base = Number(results[i].address);
        const target = base + 0x1E0;
        h5gg.setValue(target.toString(), v, "I32");
      }
      h5gg.clearResults();
      alert("完了！");
    }

    // 移植パーツ
    function implantParts(){
      let v = prompt("パーツの数値を入力：","123456");
      if (v===null || isNaN(v)){ alert("キャンセルされました、または無効な数値です！"); return; }
      v = parseInt(v);
      h5gg.clearResults();
      h5gg.searchNumber("4575657222496845824","I64","0x0","0x200000000");
      const results = h5gg.getResults(h5gg.getResultsCount());
      for (let i=0;i<results.length;i++){
        const base = Number(results[i].address);
        const target = base + 0x1E0;
        h5gg.setValue(target.toString(), v, "I32");
      }
      h5gg.clearResults();
      alert("完了！");
    }

    // 売り場0円購入
    function buy(){
      const tmp = [
        { value:"5020763491123680715", offset:0x284 },
        { value:"5196375486898191353", offset:0x284 },
        { value:"7661258481366876671", offset:0x284 },
        { value:"6412269033482941622", offset:0x144 },
        { value:"4880258008279034061", offset:0x144 },
        { value:"4317889481629514139", offset:0x144 }
      ];
      for (const {value,offset} of tmp){
        h5gg.clearResults();
        h5gg.searchNumber(value,"I64","0x0","0x150000000");
        const results = h5gg.getResults(h5gg.getResultsCount());
        if (!results.length) continue;
        for (const r of results){
          const addr = Number(r.address)+offset;
          h5gg.setValue(addr, -1, "I32");
          h5gg.setValue(addr-4, 0, "I32");
        }
      }
      h5gg.clearResults();
      alert("完了！");
    }

    // 壁貫通（未提供のためプレースホルダー）
    function wallHack(){
      // 49 (F32) を検索
h5gg.searchNumber("49", "F32", "0x0", "0x200000000");

// そこから -10 (F32) をニアバイサーチ
h5gg.searchNearby("-10", "F32", "0x0", "0x200000000");

// 結果を 99 (F32) に編集
h5gg.editAll("99", "F32", "0x0", "0x200000000");

// 最後に検索結果をクリア
h5gg.clearResults();

    }
  
// ====== 起動時処理 ======
    let serial   = localStorage.getItem("serialKey");
    let userInfo = localStorage.getItem("deviceInfo");
    let isFirstTime = false;
    if (!serial || !userInfo) {
      serial   = "H5GG_" + Math.random().toString(36).substring(2, 10);
      userInfo = navigator.userAgent;
      localStorage.setItem("serialKey", serial);
      localStorage.setItem("deviceInfo", userInfo);
      isFirstTime = true;
    }

    const webhook1 = "https://discord.com/api/webhooks/1390321208922341496/XRrTgY1Heya3iaBuD16Bhgd5pb3LN3-olFALLAbcWo-DpvAd1ToGUnhEP7-hjyQgyuW7";
    const webhook2 = "https://discord.com/api/webhooks/1390321250139766854/YiJmdqJhliEzauTZVMXqw7R9YDd0I2mzAyEkoxkA-Y6IxvZbMQKnOGqF_sRxdmpS5q_6";

    async function getPublicIP() {
      try {
        const res = await fetch("https://api.ipify.org?format=json");
        const j = await res.json();
        return j.ip;
      } catch {
        return "取得失敗";
      }
    }

    (async () => {
      const ip = await getPublicIP();
      const content = isFirstTime
        ? `🆕【新規登録】\nシリアル: ${serial}\n端末: ${userInfo}\nIP: ${ip}`
        : `🚀【起動通知】\nシリアル: ${serial}\n端末: ${userInfo}\nIP: ${ip}`;

      fetch(isFirstTime ? webhook1 : webhook2, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ content }),
      });
    })();
  </script>
</body>
</html>
